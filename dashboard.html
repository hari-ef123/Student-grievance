<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Student Grievance System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <div class="navbar glass-card" style="position: absolute; top: 0; width: 95%; margin: 20px;">
        <div class="logo"><i class="fas fa-user-graduate"></i> Student Dashboard</div>
        <div>
            <span style="margin-right: 15px;">Welcome, User!</span>
            <a href="php/logout.php" onclick="return handleLogout(event)" class="btn btn-outline"
                style="padding: 5px 15px; font-size: 0.9rem;">Logout</a>
        </div>
    </div>

    <div class="container animate-fade-in" style="margin-top: 100px;">
        <!-- Stats Row -->
        <div class="grid-container">
            <div class="glass-card text-center">
                <i class="fas fa-file-alt fa-2x" style="color: #667eea; margin-bottom: 10px;"></i>
                <h3>Total Complaints</h3>
                <h2 id="total-count">0</h2>
            </div>
            <div class="glass-card text-center">
                <i class="fas fa-clock fa-2x" style="color: #f39c12; margin-bottom: 10px;"></i>
                <h3>Pending</h3>
                <h2 id="pending-count">0</h2>
            </div>
            <div class="glass-card text-center">
                <i class="fas fa-check-circle fa-2x" style="color: #2ecc71; margin-bottom: 10px;"></i>
                <h3>Resolved</h3>
                <h2 id="resolved-count">0</h2>
            </div>
        </div>

        <!-- Actions Row -->
        <div style="margin-top: 30px; display: flex; gap: 20px; flex-wrap: wrap;">
            <div class="glass-card" style="flex: 1; min-width: 300px;">
                <h3><i class="fas fa-bullhorn"></i> Raise a New Complaint</h3>
                <p style="margin: 15px 0; opacity: 0.8;">Facing an issue? Submit your grievance here. We ensure privacy
                    and quick resolution.</p>
                <a href="complaint.html" class="btn btn-primary">File Complaint</a>
            </div>
            <div class="glass-card" style="flex: 1; min-width: 300px;">
                <h3><i class="fas fa-history"></i> Track Status</h3>
                <p style="margin: 15px 0; opacity: 0.8;">Check the real-time status of your submitted complaints with
                    admin remarks.</p>
                <a href="status.html" class="btn btn-outline" style="background: rgba(255,255,255,0.1);">View Status</a>
            </div>
        </div>

        <!-- Recent Activity (Placeholder for AJAX) -->
        <div class="glass-card" style="margin-top: 20px;">
            <h3>Recent Activity</h3>
            <div id="recent-activity-list" style="margin-top: 15px;">
                <p style="opacity: 0.7;">Loading data...</p>
            </div>
        </div>
    </div>

    <script>
        // Simple script to mock data loading if PHP isn't ready
        setTimeout(() => {
            // In real integration, this will be an AJAX call to php/status.php
            document.getElementById('recent-activity-list').innerHTML = '<p>No recent activity found. Start by filing a complaint!</p>';
        }, 1000);

        function handleLogout(event) {
            if (window.location.protocol === 'file:') {
                event.preventDefault();
                alert("⚠️ DEMO MODE: Logging out...");
                window.location.href = 'index.html';
                return false;
            }
            return true;
        }
    </script>
</body>

</html>